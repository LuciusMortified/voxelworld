---
description: 
globs: *.md
alwaysApply: false
---
# Mermaid: Обязательное использование для диаграмм в .md файлах

Во всех файлах .md проекта для создания схем, диаграмм и визуализации архитектуры ОБЯЗАТЕЛЬНО использовать Mermaid.

## Преимущества Mermaid:
- Встроенная поддержка в GitHub, GitLab, GitBook
- Текстовое описание - версионируется в Git
- Автоматическая генерация - не нужно рисовать вручную
- Простота редактирования - легко изменять и поддерживать
- Кроссплатформенность - работает везде, где есть Markdown

## Синтаксис:

### Графики (Graphs)
```mermaid
graph TD
    A[Start] --> B{Decision?}
    B -->|Yes| C[Action 1]
    B -->|No| D[Action 2]
    C --> E[End]
    D --> E
```

### Диаграммы последовательности (Sequence)
```mermaid
sequenceDiagram
    participant A as Client
    participant B as Server
    A->>B: Request
    B->>A: Response
```

### Диаграммы классов (Class)
```mermaid
classDiagram
    class Engine {
        +run()
        +update()
    }
    class Window {
        +create()
        +destroy()
    }
    Engine --> Window
```

## Стилизация:

### Рекомендуемые цвета
- **Основные компоненты**: `#e1f5fe` (светло-голубой)
- **Вспомогательные**: `#fff3e0` (светло-оранжевый)  
- **Успешные состояния**: `#c8e6c9` (светло-зеленый)
- **Ошибки/выход**: `#ffebee` (светло-красный)
- **Процессы**: `#f3e5f5` (светло-фиолетовый)

### Правило контрастности текста
**ВАЖНО**: Если блок покрашен в светлый цвет (все рекомендуемые цвета выше), то текст этого блока должен быть черным для обеспечения читаемости.

#### Пример правильного стилирования:
```mermaid
graph TD
    A[Component] --> B[Another Component]
    
    style A fill:#e1f5fe,stroke:#000,color:#000  %% Светлый фон + черный текст
    style B fill:#fff3e0,stroke:#000,color:#000  %% Светлый фон + черный текст
```

#### Синтаксис для черного текста:
```mermaid
style NodeName fill:#e1f5fe,stroke:#000,color:#000
```

## Что НЕ использовать:
- ❌ ASCII схемы
- ❌ Скриншоты диаграмм
- ❌ Внешние изображения
- ❌ Ссылки на внешние сервисы

## Что использовать:
- ✅ Mermaid диаграммы в Markdown
- ✅ Текстовое описание архитектуры
- ✅ Встроенные диаграммы в документации
- ✅ Черный текст для блоков со светлыми цветами

## Примеры в проекте:
Смотрите файл [ENGINE_ARCHITECTURE.md](mdc:ENGINE_ARCHITECTURE.md) для примеров использования Mermaid диаграмм в данном проекте.

Это правило распространяется на все новые и существующие .md файлы в проекте.
